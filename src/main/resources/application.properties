spring.application.name=studyPort

spring.datasource.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.url=jdbc:mariadb://localhost:3306/study
spring.datasource.username=root
spring.datasource.password=1234

server.port=8080

spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql = true

spring.jpa.database-platform=org.hibernate.dialect.MariaDBDialect
logging.level.root = info
logging.level.com.example.demo = debug
logging.level.org.springframework.security = DEBUG
logging.level.com.example.studyport = DEBUG
logging.level.org.springframework.security.authentication = TRACE
logging.level.org.springframework.security.web.authentication = TRACE

spring.profiles.include=oauth

imgLocation = C:/ex/
uploadPath=file://C:/ex/
spring.jpa.properties.hibernate.default_batch_fetch_size = 100
spring.jpa.properties.hibernate.show_sql = true

# ====== 멀티파트 파일 업로드 설정 (필수) ======
# Spring Framework 레벨 설정 - 이것이 가장 중요함
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
spring.servlet.multipart.file-size-threshold=1MB
# lazy 모드: 파일을 필요할 때만 파싱 (중요!)
spring.servlet.multipart.resolve-lazily=true

# ====== Tomcat 임베디드 서버 설정 ======
# 동시 연결 수
server.tomcat.max-connections=300
server.tomcat.max-threads=300
server.tomcat.threads.min-spare=20

# HTTP POST 요청 크기 제한 (바이트 단위, 약 50MB)
server.tomcat.max-http-form-post-size=52428800

# Tomcat 연결 타임아웃
server.tomcat.connection-timeout=30000

# Tomcat maxPostSize (multipart 파일 업로드용) - 이게 핵심!
server.tomcat.max-post-size=52428800

# ====== HTTP 요청 헤더 설정 ======
server.max-http-request-header-size=32KB

# ====== 초기 데이터 설정 ======
spring.sql.init.mode=never
spring.sql.init.encoding=UTF-8
