<!doctype html>
<html lang="en" class="h-full">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Modern Root — Spring Boot Front (C# API Ready)</title>
    <meta name="description" content="Modern, accessible, high‑performance root page designed for Spring Boot apps. Glassmorphism, bento grid, OTEL‑ready, Core Web Vitals friendly." />
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='30' fill='%231B56FD'/%3E%3Ctext x='32' y='39' font-size='28' text-anchor='middle' fill='white'%3E◎%3C/text%3E%3C/svg%3E" />

    <!-- Root variables & reset (system font for fast LCP) -->
    <style>
        :root {
            --brand:#1B56FD;           /* Primary brand */
            --ink:#0f172a;             /* Text dark */
            --muted:#94a3b8;           /* Muted text */
            --bg: #0b1020;             /* Dark bg */
            --bg-accent: linear-gradient(120deg,#111827 0%, #0b1020 40%, #0b2c6c 100%);
            --card: rgba(255,255,255,0.08); /* Glass */
            --card-border: rgba(255,255,255,0.15);
            --card-ink: #e5e7eb;       /* Light text */
            --success:#10b981;
            --warning:#f59e0b;
            --danger:#ef4444;
            --radius: 18px;
            --shadow: 0 8px 30px rgba(0,0,0,0.35);
        }
        @media (prefers-color-scheme: light) {
            :root { --bg: #f8fafc; --bg-accent: linear-gradient(120deg,#eef2ff 0%, #f8fafc 50%, #e0f2fe 100%); --ink:#0b1220; --card: rgba(255,255,255,0.6); --card-ink:#0b1220; }
            header.nav a { color:#0b1220 }
        }

        * { box-sizing:border-box }
        html, body { height:100% }
        body {
            margin:0; font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji";
            color: var(--card-ink);
            background: var(--bg-accent) fixed;
            min-height:100dvh;
            -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;
        }
        a { color: var(--brand); text-decoration: none }
        a:focus, button:focus, input:focus { outline: 2px solid var(--brand); outline-offset: 2px }

        /* Skip link for keyboard users */
        .skip { position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
        .skip:focus { left:1rem; top:1rem; width:auto; height:auto; padding:0.6rem 0.8rem; background:#fff; color:#111; border-radius:.5rem; z-index:50 }

        header.nav {
            position:sticky; top:0; z-index:40; backdrop-filter:saturate(180%) blur(12px);
            background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.15));
            border-bottom:1px solid var(--card-border);
        }
        .container { max-width:1180px; margin:auto; padding: 0 20px }
        .nav-inner { display:flex; align-items:center; justify-content:space-between; padding:14px 0 }
        .brand { display:flex; align-items:center; gap:.6rem; color:#fff }
        .brand .dot { width:12px; height:12px; border-radius:999px; background:var(--brand); box-shadow:0 0 0 6px rgba(27,86,253,.15) }
        .nav-links { display:flex; gap:1rem }

        /* Hero */
        .hero { display:grid; grid-template-columns:1.1fr .9fr; gap:28px; padding:56px 0 24px; align-items:center }
        .hero h1 { font-weight:800; font-size:clamp(28px,4vw,46px); line-height:1.1; margin:0 0 12px; color:#fff }
        .hero p { color:#cbd5e1; margin:0 0 18px; max-width:60ch }
        .cta { display:flex; gap:12px; flex-wrap:wrap }
        .btn { appearance:none; border:none; border-radius:12px; padding:12px 16px; font-weight:700; cursor:pointer; box-shadow: var(--shadow) }
        .btn.primary { background: linear-gradient(135deg, var(--brand), #7aa2ff); color:#fff }
        .btn.ghost { background: transparent; border:1px solid var(--card-border); color:#e2e8f0 }

        .glass { background: var(--card); border:1px solid var(--card-border); border-radius: var(--radius); backdrop-filter: blur(16px) saturate(140%); box-shadow: var(--shadow) }

        /* Bento grid */
        .bento { display:grid; grid-template-columns: repeat(12, 1fr); gap:16px; margin: 28px 0 40px }
        .tile { padding:18px; min-height:120px }
        .t1 { grid-column: span 4 }
        .t2 { grid-column: span 4 }
        .t3 { grid-column: span 4 }
        .t4 { grid-column: span 8 }
        .t5 { grid-column: span 4 }
        @media (max-width: 960px){ .hero{ grid-template-columns:1fr; } .t1,.t2,.t3,.t4,.t5{ grid-column: span 12 } }

        /* Metrics chips */
        .chips { display:flex; gap:10px; flex-wrap:wrap; margin-top:12px }
        .chip { background: rgba(255,255,255,0.10); border:1px solid var(--card-border); padding:8px 12px; border-radius:999px; font-weight:600; color:#e5edff }

        /* Cards */
        .card h3 { margin:0 0 6px; font-size:18px; color:#fff }
        .card p { margin:0; color:#cbd5e1 }

        /* Status dot */
        .dot-sm{ width:10px; height:10px; border-radius:999px; display:inline-block; vertical-align:middle; margin-right:6px }

        /* Footer */
        footer { margin-top:40px; color:#94a3b8; font-size:14px; padding:24px 0; border-top:1px solid var(--card-border) }
    </style>

    <script>
        // Configure this if your C# API (or Spring Boot gateway) is on another origin
        window.APP_CONFIG = { API_BASE: '' }; // same-origin reverse-proxied by Nginx (recommended)
    </script>
</head>
<body>
<a class="skip" href="#main">Skip to main content</a>

<!-- Accessible landmark: banner -->
<header class="nav" role="banner">
    <div class="container nav-inner">
        <div class="brand" aria-label="Brand">
            <span class="dot" aria-hidden="true"></span>
            <strong>Modern Stack</strong>
        </div>
        <nav aria-label="Primary" class="nav-links">
            <a href="#features">Features</a>
            <a href="#status">Status</a>
            <a href="#pricing">Pricing</a>
        </nav>
    </div>
</header>

<main id="main" class="container" role="main">
    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
        <div>
            <h1 id="hero-title">Ship faster with C# × Linux × SQL — fronted by Spring Boot UI.</h1>
            <p>Glassmorphism visuals, bento grid content, Core Web Vitals‑friendly layout, and accessible landmarks. Plug into your API gateway and you’re live.</p>
            <div class="cta">
                <button class="btn primary" id="btnQuickStart">Quick Start</button>
                <a class="btn ghost" href="#features">Explore Features</a>
            </div>
            <div class="chips" aria-label="Key metrics">
                <span class="chip">INP‑ready</span>
                <span class="chip">WCAG 2.2 AA contrast</span>
                <span class="chip">OTEL tracing</span>
                <span class="chip">Nginx + Kestrel</span>
            </div>
        </div>
        <div class="glass tile t5" style="padding:22px">
            <h3 style="margin:0 0 8px">Live Status</h3>
            <p id="health"><span class="dot-sm" style="background:var(--warning)"></span>Checking…</p>
            <div style="margin-top:12px">
                <small>Recommendations demo:</small>
                <pre id="demoJson" class="glass" style="padding:10px; overflow:auto; border-radius:12px; font-size:12px;">(call /recommendations/1)</pre>
                <button class="btn" id="btnDemo" style="margin-top:8px">Run demo</button>
            </div>
        </div>
    </section>

    <!-- BENTO GRID -->
    <section id="features" class="bento" aria-label="Feature grid">
        <article class="glass tile t1 card">
            <h3>Performance</h3>
            <p>Core Web Vitals: INP‑focused interactions, lazy JS, and system fonts for fast LCP.</p>
        </article>
        <article class="glass tile t2 card">
            <h3>Accessibility</h3>
            <p>Landmarks, skip link, and WCAG 2.2 AA contrast for readable, navigable pages.</p>
        </article>
        <article class="glass tile t3 card">
            <h3>Observability</h3>
            <p>OpenTelemetry traces flow to your collector/Jaeger. Debug with clarity.</p>
        </article>
        <article class="glass tile t4 card">
            <h3>Architecture</h3>
            <p>Reverse proxy with Nginx in front, Kestrel behind, and SQL + Redis beneath.
                Outbox/CDC patterns keep writes reliable and async‑friendly.</p>
        </article>
        <article class="glass tile t5 card">
            <h3>Design Language</h3>
            <p>Modern glass + soft shadows + bento layout. Dark‑mode aware, responsive from mobile to widescreen.</p>
        </article>
    </section>

    <!-- Pricing/CTA (placeholder) -->
    <section id="pricing" class="glass" style="padding:22px">
        <h3 style="margin-top:0">Simple Pricing</h3>
        <ul style="margin:0; padding-left:18px">
            <li>Starter — Free (local/dev)</li>
            <li>Pro — $49/mo (production small)</li>
            <li>Scale — $499/mo (multi‑region)</li>
        </ul>
        <div class="cta" style="margin-top:12px">
            <button class="btn primary">Start Free</button>
            <button class="btn ghost">Talk to Sales</button>
        </div>
    </section>
</main>

<!-- Landmark: contentinfo -->
<footer role="contentinfo">
    <div class="container">
        <small>© <span id="year"></span> Modern Stack. Built with Spring Boot UI × C# API. All rights reserved.</small>
    </div>
</footer>

<script>
    // Minimal, INP‑friendly JS (defer by default at end of body)
    const $ = (sel) => document.querySelector(sel);
    const API = () => (window.APP_CONFIG?.API_BASE || '').replace(/\/$/, '');
    const statusEl = $('#health');
    const demoEl = $('#demoJson');

    function setStatus(ok){
        const color = ok ? 'var(--success)' : 'var(--danger)';
        statusEl.innerHTML = `<span class="dot-sm" style="background:${color}"></span>` + (ok ? 'Healthy' : 'Down');
    }

    async function checkHealth(){
        try {
            const res = await fetch(`${API()}/healthz`, { cache:'no-store' });
            setStatus(res.ok);
        } catch(e){ setStatus(false) }
    }

    async function runDemo(){
        demoEl.textContent = '(loading…)';
        try {
            const res = await fetch(`${API()}/recommendations/1`);
            const json = await res.json();
            demoEl.textContent = JSON.stringify(json, null, 2);
        } catch(e){ demoEl.textContent = 'Request failed: ' + e }
    }

    document.addEventListener('DOMContentLoaded', () => {
        $('#year').textContent = new Date().getFullYear();
        checkHealth();
        $('#btnDemo').addEventListener('click', runDemo);
        $('#btnQuickStart').addEventListener('click', () => window.location.hash = '#features');
    });
</script>
</body>
</html>
